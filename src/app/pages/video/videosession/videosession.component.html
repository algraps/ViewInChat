<section class="container-fluid alignSection">
<div class="card">
  <div class="card-header">
    <div class="row headerSection">
      <div class="col-md-2">
        <img src="../../../assets/logo.png" style="width: 150px;
    margin-top: 14px;">

      </div>
      <div class="col-md-5 userInfo userInfo">
        <h2 class="font-weight-bolder">
          <i class="fa fa-user-circle-o" aria-hidden="true"></i><span *ngIf="!participantName">Jhon Carry</span>{{participantName}}</h2></div>
      <div class="col-md-2 "><h2 class="font-weight-bolder">{{serviceName}}</h2></div>
      <div class="col-md-3 userInfo">
        <p class="font-weight-bolder"> <span *ngIf="!display">00:00</span> {{display}}</p>
      </div>
    </div>

  </div>
  <div class="card-body">
    <div class="row pb-5">
      <div class="col-lg-8">
        <div class="border rounded-xl bg-white videosection">
          <!-- Video code -->
          <div class="grid-container" #gridContainer>
            <div class="grid-content" #gridContent>
              <app-camera #camera [currentParticipent]='currentParticipent' [isInterviewee]='isInterviewee'
                          [isInterviewer]='isInterviewer' [isHiddenParticipant]='isHiddenParticipant'
                          [isReadOnlyViewer]='isReadOnlyViewer' [intervieweeName]='intervieweeName' [isMuted]='isMuted'
                          [interview]='interview' [totalParticipants]="totalParticipants" (leaveRoom)='leaveRoom()'
                          (flipCamera)='flipCamera()' (toggleMute)='muteOrUnmute()' [isFlipped]="isFlipped"
                          (shareScreen)='shareScreenHandler()'> </app-camera>
            </div>
          </div>
          <!-- Video code -->
        </div>
      </div>
      <!-- chat section start -->
      <div class="col-lg-4">
        <div class="card border rounded-xl chatsection h-100">
          <div class="card-header px-2 py-4 h5 font-weight-bolder" style=" background: #00A8E2 !important;color: white;">
            Chat Room
          </div>
          <div class="card-body p-0" id="scrollDiv" style="height: 30vh; overflow-y: auto;">
            <div class="msgr">
              <div class="flex-1">
                <div #defaultMessage class="text-center"></div>
                <div #chatcontainer id="chat_container" class="w-100 p-3">

                </div>
              </div>
            </div>
          </div>
          <div class="card-footer p-0">
            <div class="send-message-container">
              <div class="p-2">
                <div #chatinput (keydown)="sendChat($event)" contenteditable="true"
                     data-placeholder="Type your message here ..." class="form-content-editable text-dark" autofocus></div>
              </div>
              <div class="py-2 px-4 border-top sendBtn" #sendButton href="javascript:void(0);" id="btnSendChat" (click)="sendChat($event)">
                <!--
                <div class="float-left">
                  <input type="file" #file id="file" (change)="handleFileInput($event.target.files)" class="d-none">
                  <label for="file"><i class="fas fa-paperclip mr-4 mb-0" style="font-size: 26px;"></i></label>
                  <span class="text-primary">{{ (fileToUpload != undefined ? fileToUpload.name : '') }}</span>
                </div> -->

                  <div *ngIf="chatLoader" class="spinner-border" role="status">
                    <span class="sr-only">Loading...</span>
                  </div>
                  <a>
                    <i class="fa fa-paper-plane" aria-hidden="true"> SEND</i>
                  </a>


              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- chat section End -->
    </div>
</div>
</div>
<!--  &lt;!&ndash; Video and chatsection &ndash;&gt;
  <div class="row">
    <div class="col-12">
      <h2 class="font-weight-bolder">{{serviceName}}</h2>
      <p class="font-weight-bolder font-size-h6">Elapsed Time: {{display}}</p>
    </div>
  </div>-->
</section>

<button type="button" class="btn btn-sm btn-primary d-none" id="clickMe" (click)="open(enterUserName)"></button>

<ng-template #enterUserName let-c="close" let-d="dismiss">
  <div class="modal-body pt-0">
    <div class="row p-2">
      <div class="col-lg-10 col-md-12 mx-auto">
        <div class="row pt-3">
          <div class="col-md-2"> </div>
          <div class="col-md-6">
            <div class="form-group">
              <input type="text" class="form-control" [(ngModel)]="participantName" name="text" id="enterName"
                placeholder="Enter your name">
            </div>
          </div>
          <div class="col-md-2">
            <div class="form-group">
              <button type="button"
                      [disabled]="!participantName"
                      (click)="join()"
                class="btn btn-success joinBtn">
                <i class="fa fa-headphones" aria-hidden="true"></i>
                Join</button>
            </div>
          </div>
          <div class="col-md-2"> </div>
        </div>
      </div>
    </div>
  </div>
</ng-template>
